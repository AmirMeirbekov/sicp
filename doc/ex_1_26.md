# [Глава 1](./index.md#Глава-1-Построение-абстракций-с-помощью-процедур)

### Упражнение 1.26
У Хьюго Дума большие трудности в упражнении [1.24](./ex_1_24.md). Процедура `fast-prime?` у него работает медленнее, чем `prime?`. Хьюго просит помощи у своей знакомой Евы Лу Атор. Вместе изучая код Хьюго, они обнаруживают, что тот переписал процедуру `expmod` с явным использованием умножения вместо того, чтобы вызывать square:

```clojure
(defn expmod
  [base exp m]
  (cond
    (zero? exp) 1
    (even? exp) (rem (* (expmod base (/ exp 2) m)
                        (expmod base (/ exp 2) m))
                     m)
    :else (rem (* base
                  (expmod base (dec exp) m))
               m)))
```

Хьюго говорит: «Я не вижу здесь никакой разницы». «Зато я вижу, — отвечает Ева. — Переписав процедуру таким образом, ты превратил процесс порядка **Θ(log n)** в процесс порядка **Θ(n)**». Объясните.

#### Решение
В модифицированном Хьюго варианте процедуры `expmod` вызов (expmod base (/ exp 2) m) происходит по два раза для каждой итерации, вместо одного.
