# [Глава 2](../index.md#Глава-2-Построение-абстракций-с-помощью-данных)

### Упражнение 2.68
Процедура `encode` получает в качестве аргументов сообщение и дерево, и порождает список битов, который представляет закодированное сообщение.

```clojure
(defn encode
  [tree message]
  (if (empty? message)
    '()
    (concat (encode-symbol tree (first message))
            (encode tree (rest message)))))
```

`encode-symbol` - процедура, которую Вы должны написать, возвращает список битов, который кодирует данный символ в соответствии с заданным деревом. Вы должны спроектировать `encode-symbol` так, чтобы она сообщала об ошибке, если символ вообще не содержится в дереве. Проверьте свою процедуру, закодировав тот результат, который Вы получили в [упражнении 2.67](./ex_2_67.md), с деревом-примером и проверив, совпадает ли то, что получаете Вы, с исходным сообщением.

#### Решение
[Code](../../src/sicp/chapter02/2_68.clj) | [Test](../../test/sicp/chapter02/2_68_test.clj)

